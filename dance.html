<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì¹˜ì´ì¹´ì™€ Â· ëŒ„ìŠ¤ íŒŒí‹°</title>
  <style>
    :root { color-scheme: light dark; }
    * { box-sizing: border-box; }
    body {
      margin: 0; min-height: 100svh; display: grid; place-items: center;
      background:
        radial-gradient(1100px 540px at 12% 10%, #22c55e22, transparent),
        radial-gradient(900px 520px at 88% 18%, #3b82f622, transparent),
        linear-gradient(135deg, #3b82f6, #ec4899);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
      color: #fff;
    }
    .card {
      width: min(820px, 94vw);
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.25);
      border-radius: 22px;
      padding: 26px;
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
      text-align: center;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(8px);
    }
    h1 { margin: 0 0 6px; font-weight: 900; }
    p { margin: 0 0 14px; opacity: .95; }

    /* í™”ë©´ ì „ì²´ì— ì‚´ì§ í”ë“¤ë¦¬ëŠ” ì½˜í˜í‹° */
    .confetti {
      position: absolute; inset: 0; pointer-events: none; opacity: .8;
      background-image:
        radial-gradient(circle at 10% 10%, #fff 0 2px, transparent 3px),
        radial-gradient(circle at 50% 20%, #facc15 0 2px, transparent 3px),
        radial-gradient(circle at 80% 10%, #22d3ee 0 2px, transparent 3px),
        radial-gradient(circle at 30% 25%, #a3e635 0 2px, transparent 3px),
        radial-gradient(circle at 60% 30%, #f472b6 0 2px, transparent 3px);
      animation: confetti 2s linear infinite alternate;
    }
    @keyframes confetti { from { transform: translateY(-5%); } to { transform: translateY(5%); } }

    .stage {
      position: relative; border-radius: 18px; overflow: hidden;
      border: 1px solid rgba(255,255,255,.24);
      box-shadow: 0 0 28px rgba(255,255,255,.15) inset;
      background: rgba(0,0,0,.12);
    }

    /* ëŠë¦¬ê²Œ ë–¨ì–´ì§€ëŠ” ê½ƒì (ìŠ¤í…Œì´ì§€ ë‚´ë¶€ì—ë§Œ) */
    .petals { position: absolute; inset: 0; pointer-events: none; z-index: 2; }
    .petal {
      position: absolute; top: -10vh; z-index: 2;
      width: 14px; height: 12px;
      background: radial-gradient(ellipse at 60% 40%, #f9a8d4 0%, #f472b6 60%, #ec4899 100%);
      border-radius: 60% 60% 60% 60% / 70% 70% 40% 40%;
      opacity: .95;
      filter: drop-shadow(0 4px 6px rgba(236,72,153,.35));
      transform: rotate(var(--rot));
      animation: fall linear var(--fall-dur) var(--fall-delay) both,
                 sway ease-in-out var(--sway-dur) var(--sway-delay) infinite alternate;
    }
    .petal::after{
      content:"";
      position:absolute; inset: 2px 4px auto auto;
      width: 6px; height: 4px; border-radius: 50%;
      background: rgba(255,255,255,.55);
      transform: rotate(-20deg);
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(calc(var(--rot) + 160deg)); }
    }
    @keyframes sway {
      from { translate: 0 0; }
      to   { translate: var(--sway-x, 32px) 8px; }
    }

    .img {
      position: relative; z-index: 1;
      display: block; width: 100%; height: auto; transform-origin: 50% 90%;
      animation: dance 1.2s ease-in-out infinite;
      image-rendering: -webkit-optimize-contrast;
    }
    @keyframes dance {
      0%   { transform: translateY(0) rotate(0deg) scale(1.00); }
      25%  { transform: translateY(-6px) rotate(-2deg) scale(1.02); }
      50%  { transform: translateY(0) rotate(0deg) scale(1.00); }
      75%  { transform: translateY(-6px) rotate(2deg) scale(1.02); }
      100% { transform: translateY(0) rotate(0deg) scale(1.00); }
    }

    /* ì‘ì€ ìë§‰(ë‹¤í¬ ë°°ê²½ìš©) */
    .subtitle {
      position: absolute; left: 12px; bottom: 12px; z-index: 3;
      background: rgba(0,0,0,.45);
      color: #fff; font-weight: 700; font-size: .95rem; letter-spacing: -.01em;
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 999px;
      padding: 8px 12px;
      box-shadow: 0 6px 16px rgba(0,0,0,.35);
      user-select: none;
      backdrop-filter: blur(4px);
    }

    /* ëª¨ì…˜ ìµœì†Œí™” ì„ í˜¸ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ë„ê¸° */
    @media (prefers-reduced-motion: reduce) {
      .img, .confetti, .petal { animation: none !important; }
    }

    .controls { margin-top: 14px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    button {
      appearance: none; border: 1px solid rgba(255,255,255,.35); color: #000;
      background: #22d3ee; border-radius: 999px; padding: 10px 16px; cursor: pointer;
      transition: transform .05s ease, background .2s ease, border-color .2s ease;
    }
    button:hover { background: #67e8f9; }
    button:active { transform: translateY(1px); }
    #status { font-size: .95rem; opacity: .95; color: #fff; }
  </style>
</head>
<body>
  <main class="card">
    <div class="confetti" aria-hidden="true"></div>
    <h1>ã¡ã„ã‹ã‚ã€ã‚ãã‚ããªä¸€æ—¥ï¼ ğŸ‰</h1>

    <div class="stage" aria-label="ì¶¤ì¶”ëŠ” ì¹˜ì´ì¹´ì™€ ì´ë¯¸ì§€">
      <!-- ê½ƒì ë ˆì´ì–´ -->
      <div class="petals" aria-hidden="true"></div>

      <!-- ë©”ì¸ ì´ë¯¸ì§€ -->
      <img
        class="img"
        src="assets/dance.gif"
        alt="ã¡ã„ã‹ã‚ã€ã‚ãã‚ããªä¸€æ—¥ï¼"
        loading="eager"
        onerror="this.onerror=null;
             this.src='assets/dance.jpg';
             this.onerror=function(){ this.src='assets/dance.png'; };"
      />

      <!-- ì‘ì€ ìë§‰ -->
      <span class="subtitle" aria-live="polite">ä»Šæ—¥ã¯ã˜ã—ã‚“ã‚’ã‚‚ã£ã¦ï¼ âœ¨</span>
    </div>

    <div class="controls" role="group" aria-label="ì˜¤ë””ì˜¤ ì œì–´">
      <button id="play" aria-label="ë°°ê²½ìŒì•… ì¬ìƒ">ìŒì•… ì¼œê¸° â–¶</button>
      <button id="pause" aria-label="ë°°ê²½ìŒì•… ì¼ì‹œì •ì§€">ì¼ì‹œì •ì§€ â¸</button>
      <span id="status" aria-live="polite">ì •ì§€ë¨</span>
    </div>

    <audio id="bgm" preload="auto" loop>
      <source src="assets/dance.mp3" type="audio/mpeg" />
      <source src="assets/dance.m4a" type="audio/mp4" />
      <source src="assets/dance.ogg" type="audio/ogg" />
    </audio>
  </main>

  <script>
    // ===== ì˜¤ë””ì˜¤ ì œì–´ =====
    const audio = document.getElementById('bgm');
    const statusEl = document.getElementById('status');

    document.getElementById('play').addEventListener('click', async () => {
      try { await audio.play(); statusEl.textContent = 'ì¬ìƒ ì¤‘'; }
      catch { statusEl.textContent = 'ì¬ìƒ ì‹¤íŒ¨(ì²« ìƒí˜¸ì‘ìš© í•„ìš”/íŒŒì¼ ì—†ìŒ)'; }
    });
    document.getElementById('pause').addEventListener('click', () => {
      audio.pause(); statusEl.textContent = 'ì¼ì‹œì •ì§€';
    });
    document.addEventListener('pointerdown', async () => {
      if (audio.paused) { try { await audio.play(); statusEl.textContent = 'ì¬ìƒ ì¤‘'; } catch {} }
    }, { once: true });

    // ===== ê½ƒì ìƒì„± (ëŠë¦¬ê²Œ ë‚™í•˜) =====
    const petalsLayer = document.querySelector('.petals');
    const PETAL_COUNT = 16; // 12~24 ì¶”ì²œ

    const rnd = (min, max) => Math.random() * (max - min) + min;

    for (let i = 0; i < PETAL_COUNT; i++) {
      const p = document.createElement('span');
      p.className = 'petal';

      // ê° ê½ƒìì— ëœë¤ íŒŒë¼ë¯¸í„° ë¶€ì—¬
      p.style.left = rnd(0, 100) + 'vw';
      p.style.setProperty('--fall-dur',  rnd(7, 13) + 's');
      p.style.setProperty('--fall-delay', rnd(-7, 0) + 's');
      p.style.setProperty('--sway-dur',  rnd(2.8, 5.2) + 's');
      p.style.setProperty('--sway-delay', rnd(0, 2) + 's');
      p.style.setProperty('--sway-x',    rnd(18, 44) + 'px');
      p.style.setProperty('--rot',       rnd(-40, 40) + 'deg');

      petalsLayer.appendChild(p);
    }
  </script>
</body>
</html>