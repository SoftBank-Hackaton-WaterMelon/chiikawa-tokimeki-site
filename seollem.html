<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì¹˜ì´ì¹´ì™€ Â· ì„¤ë ˜</title>
  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }
    body {
      margin: 0; min-height: 100svh; display: grid; place-items: center;
      background: linear-gradient(180deg, #fce7f3 0%, #f9a8d4 100%);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
      color: #4b5563;
    }
    .card {
      width: min(720px, 92vw);
      background: rgba(255,255,255,0.86);
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 24px;
      padding: 24px;
      box-shadow: 0 12px 32px rgba(0,0,0,.10);
      text-align: center;
      position: relative;
    }
    h1 { margin: 0 0 6px; font-weight: 800; color: #db2777; letter-spacing: -.02em; }
    p { margin: 0 0 14px; }

    .frame {
      position: relative; overflow: hidden; border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 0 24px rgba(219,39,119,.20);
      background: #fff;
    }
    .img { display: block; width: 100%; height: auto; }

    /* ì‘ì€ ìë§‰(ìº¡ì…˜) */
    .subtitle {
      position: absolute; left: 12px; bottom: 12px;
      background: rgba(255,255,255,.85);
      color: #db2777; font-weight: 700; font-size: .95rem; letter-spacing: -.01em;
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 999px;
      padding: 8px 12px;
      box-shadow: 0 4px 12px rgba(219,39,119,.15);
      user-select: none;
    }

    /* ê½ƒì ë ˆì´ì–´ */
    .petals {
      pointer-events: none;
      position: absolute; inset: 0;
      overflow: hidden;
    }
    .petal {
      position: absolute; top: -10vh;
      width: 14px; height: 12px;
      background: radial-gradient(ellipse at 60% 40%, #f9a8d4 0%, #f472b6 60%, #ec4899 100%);
      border-radius: 60% 60% 60% 60% / 70% 70% 40% 40%;
      opacity: .9;
      filter: drop-shadow(0 4px 6px rgba(219,39,119,.25));
      animation: fall linear var(--fall-dur) var(--fall-delay) both,
                 sway ease-in-out var(--sway-dur) var(--sway-delay) infinite alternate;
      transform: rotate(var(--rot));
    }
    /* ê½ƒìì˜ í•˜ì´ë¼ì´íŠ¸ */
    .petal::after{
      content:"";
      position:absolute; inset: 2px 4px auto auto;
      width: 6px; height: 4px; border-radius: 50%;
      background: rgba(255,255,255,.55);
      transform: rotate(-20deg);
    }

    @keyframes fall {
      to { transform: translateY(110vh) rotate(calc(var(--rot) + 160deg)); }
    }
    @keyframes sway {
      from { translate: 0 0; }
      to   { translate: var(--sway-x, 32px) 6px; }
    }

    /* ëª¨ì…˜ ìµœì†Œí™” ì„ í˜¸ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ë„ê¸° */
    @media (prefers-reduced-motion: reduce) {
      .petal { animation: none; }
    }

    .controls { margin-top: 14px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    button {
      appearance: none; border: 0; color: #fff; background: #ec4899;
      border-radius: 999px; padding: 10px 16px; cursor: pointer;
      transition: transform .05s ease, background .2s ease;
    }
    button:hover { background: #db2777; }
    button:active { transform: translateY(1px); }
    #status { font-size: .95rem; opacity: .85; }
  </style>
</head>
<body>
  <main class="card">
    <h1>ã¡ã„ã‹ã‚ã®ãƒ‰ã‚­ãƒ‰ã‚­ãªä¸€æ—¥ ğŸŒ¸</h1>

    <div class="frame" aria-label="ì„¤ë ˆëŠ” ì¹˜ì´ì¹´ì™€ ì´ë¯¸ì§€">
      <!-- ê½ƒì ë ˆì´ì–´ -->
      <div class="petals" aria-hidden="true"></div>

      <!-- ë©”ì¸ ì´ë¯¸ì§€ -->
      <img
        class="img"
        src="assets/seollem.gif"
        alt="ã¡ã„ã‹ã‚ã®ãƒ‰ã‚­ãƒ‰ã‚­ãªä¸€æ—¥"
        onerror="this.onerror=null; this.src='assets/seollem.jpg'; this.onerror=function(){ this.src='assets/seollem.png'; };"
      />

      <!-- ì‘ì€ ìë§‰ -->
      <span class="subtitle" aria-live="polite">ä»Šæ—¥ã‚‚ã¨ãã‚ãä¸€æ—¥ã«ãªã‚‹ã‚ˆï¼</span>
    </div>

    <div class="controls" role="group" aria-label="ì˜¤ë””ì˜¤ ì œì–´">
      <button id="play">ìŒì•… ì¼œê¸° â–¶</button>
      <button id="pause">ì¼ì‹œì •ì§€ â¸</button>
      <span id="status">ì •ì§€ë¨</span>
    </div>

    <audio id="bgm" preload="auto" loop>
      <source src="assets/seollem.mp3" type="audio/mpeg" />
      <source src="assets/seollem.m4a" type="audio/mp4" />
      <source src="assets/seollem.ogg" type="audio/ogg" />
    </audio>
  </main>

  <script>
    // ===== ì˜¤ë””ì˜¤ ì œì–´ =====
    const audio = document.getElementById('bgm');
    const statusEl = document.getElementById('status');

    document.getElementById('play').addEventListener('click', async () => {
      try { await audio.play(); statusEl.textContent = 'ì¬ìƒ ì¤‘'; }
      catch { statusEl.textContent = 'ì¬ìƒ ì‹¤íŒ¨(ì²« ìƒí˜¸ì‘ìš© í•„ìš”/íŒŒì¼ ì—†ìŒ)'; }
    });
    document.getElementById('pause').addEventListener('click', () => {
      audio.pause(); statusEl.textContent = 'ì¼ì‹œì •ì§€';
    });
    document.addEventListener('pointerdown', async () => {
      if (audio.paused) { try { await audio.play(); statusEl.textContent = 'ì¬ìƒ ì¤‘'; } catch {} }
    }, { once: true });

    // ===== ê½ƒì ìƒì„± =====
    const petalsLayer = document.querySelector('.petals');
    const PETAL_COUNT = 18; // ê°œìˆ˜ ì¡°ì ˆ ê°€ëŠ¥(10~30 ì¶”ì²œ)

    // ëœë¤ ìœ í‹¸
    const rnd = (min, max) => Math.random() * (max - min) + min;

    for (let i = 0; i < PETAL_COUNT; i++) {
      const p = document.createElement('span');
      p.className = 'petal';

      // CSS ì»¤ìŠ¤í…€ ì†ì„±ìœ¼ë¡œ ê° ê½ƒìì˜ ì›€ì§ì„ì„ ë‹¤ë¥´ê²Œ
      p.style.left       = rnd(0, 100) + 'vw';
      p.style.setProperty('--fall-dur',  rnd(6, 12) + 's');
      p.style.setProperty('--fall-delay', rnd(-6, 0) + 's');
      p.style.setProperty('--sway-dur',  rnd(2.5, 5) + 's');
      p.style.setProperty('--sway-delay', rnd(0, 2) + 's');
      p.style.setProperty('--sway-x',    rnd(18, 42) + 'px');
      p.style.setProperty('--rot',       rnd(-40, 40) + 'deg');

      petalsLayer.appendChild(p);
    }
  </script>
</body>
</html>
